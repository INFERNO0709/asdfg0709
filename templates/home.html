
<!DOCTYPE html>
<html>

<head>
  <title>Easily generate sequential numbers! !</title>
  <script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<script>
  function addDarkmodeWidget() {
    new Darkmode().showWidget();
  }
  window.addEventListener('load', addDarkmodeWidget);
</script>

<style>
.example4{
    background: linear-gradient(to right,#e60000,#f39800,#fff100,#009944,#0068b7,#1d2088,#920783,#e60000) 0 / 200%;
    animation: 5s example4 linear infinite;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}
@keyframes example4{
    100% { background-position: 200%; }
}
</style>
</head>
<body>
<a href="/">Yuki Youtube</a>
<div class="example4"><h1>掲示板</h1></div>
First of all, let's say hello to the newcomers. The seed value determines your ID and is like a password.<br>Let's gather courage and participate in the current topic! ! !
<br>
If you cannot send a message, your message or name may be restricted.
<br>
<a href="/bbs/how">How to use</a><br>

<form action="/bbs/result" method="get">
    <select name="channel" id="channel">
      <option value="main" selected>Small Talk</option>
      <option value="battle" >Battle Stadium</option>
    </select>
    <br>
    <label for="article">Message</label>
    <textarea name="message" rows="6" cols="100" maxlength="6000" required></textarea>
    <p></p>
    <label for="name">Name</label>
    <label for="seed">seed</label>
    <button type="submit">Send your Message</button>
    <br>
Display only messages for speakers and above.<input type="checkbox" id="filter" name="verify" >
<h2>Post</h2>
</form>

<div id="messages">
</div>
<script>
  function AutoLink(str) {
  var regexp_url = /((h?)(ttps?:\/\/[a-zA-Z0-9.\-_@:/~?%&;=+#',()*!]+))/g; // ']))/;
  var regexp_makeLink = function(all, url, h, href) {
      return '<a href="h' + href + '">' + url + '</a>';
  }

  return str.replace(regexp_url, regexp_makeLink);
}
let element = document.getElementById('filter');
let channel = document.getElementById('channel')
function reloadmessages(){
  var xhr = new XMLHttpRequest();
  xhr.open("GET", "/bbs/api?channel="+channel.value+"&verify="+element.checked+"&t="+Date.now());
      xhr.onload = function () {
          if (xhr.status == 200) {
              document.getElementById('messages').innerHTML = AutoLink(xhr.responseText);
          }
      };
      xhr.send();
}
reloadmessages();
setTimeout(reloadmessages,1000)
setInterval(reloadmessages,5000);
</script>
</body>

</html>
